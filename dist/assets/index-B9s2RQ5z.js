import{i as o,j as e,B as $,P as X,L as Y,k as z,A as Z,S as ee,l as S,D as te,E as y,m as A,n as ae,T as se,C as G,o as ie,p as ne,q as le,R as re}from"./vendor-DuwHU1p3.js";import{c as oe}from"./supabase-libs-yuaVsyvd.js";import{M as O,r as I,h as K}from"./markdown-libs-BHfBm9UV.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))b(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const g of l.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&b(g)}).observe(document,{childList:!0,subtree:!0});function u(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function b(i){if(i.ep)return;i.ep=!0;const l=u(i);fetch(i.href,l)}})();const de={BASE_URL:"/LiteBooks/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var _={};const ce=()=>{let m="",n="";try{typeof import.meta<"u"&&de?(m=void 0,n=void 0):typeof process<"u"&&_&&(m=_.VITE_SUPABASE_URL,n=_.VITE_SUPABASE_KEY)}catch(u){console.warn("Gagal memuat environment variables:",u)}return{url:m,key:n}},{url:R,key:T}=ce(),H=R&&T,r=H?oe(R,T):null,L=[{id:"sample-1",isLocal:!0,title:"Membangun Aplikasi dengan GitHub Pages & Custom DNS",description:"Panduan teknis langkah-demi-langkah untuk melakukan deployment aplikasi React/Vite ke GitHub Pages secara otomatis.",category:"DevOps",content:`
# Panduan Deployment ke GitHub Pages

GitHub Pages merupakan solusi alternatif hosting statis gratis. Berikut adalah alur kerja profesional untuk mengunggah aplikasi **LiteBooks** Anda.

## 1. Instalasi Dependensi
Jalankan perintah berikut:
\`\`\`bash
npm install gh-pages --save-dev
\`\`\`

## 2. Konfigurasi Manifest (\`package.json\`)
Tambahkan script berikut:
\`\`\`json
"scripts": {
  "predeploy": "npm run build",
  "deploy": "gh-pages -d dist"
}
\`\`\`

## 3. GitHub Actions (Otomatisasi)
Pastikan Anda memiliki file \`.github/workflows/deploy.yml\` agar secrets Supabase terbaca saat build.

### Video Tutorial
<div class="aspect-video w-full my-6">
  <iframe class="w-full h-full rounded-2xl shadow-lg" src="https://www.youtube.com/embed/2hLBe659cs0" frameborder="0" allowfullscreen></iframe>
</div>
    `},{id:"sample-2",isLocal:!0,title:"Python Dasar & Fundamental",description:"Kuasai konsep inti Python dari variabel, tipe data, hingga struktur kontrol untuk memulai karir sebagai pengembang.",category:"Programming",content:`
# Python Fundamental

Python adalah bahasa pemrograman tingkat tinggi yang menekankan pada keterbacaan kode.

## Struktur Kode Dasar
\`\`\`python
def hitung_rata_rata(nilai_list):
    total = sum(nilai_list)
    return total / len(nilai_list)

print(f"Hasil: {hitung_rata_rata([80, 90, 75])}")
\`\`\`

> "Programming is not about what you know; it's about what you can figure out."
    `}];function me(){const[m,n]=o.useState("catalog"),[u,b]=o.useState(null),[i,l]=o.useState([]),[g,h]=o.useState(!0),[P,C]=o.useState(!1),[d,w]=o.useState(null),[j,V]=o.useState(""),[k,E]=o.useState(!1),[s,x]=o.useState({title:"",description:"",content:"",category:"General",is_hidden:!1}),[f,M]=o.useState({email:"",password:""});o.useEffect(()=>{if(document.title="LiteBooks - Mini Books",r){r.auth.getSession().then(({data:{session:a}})=>b((a==null?void 0:a.user)??null));const{data:{subscription:t}}=r.auth.onAuthStateChange((a,c)=>b((c==null?void 0:c.user)??null));return()=>t.unsubscribe()}else h(!1),l(L)},[]);const v=async()=>{if(!r){console.warn("Supabase Config Missing"),l(L),h(!1);return}h(!0);const{data:t,error:a}=await r.from("books").select("*").order("created_at",{ascending:!1});a||(t.length===0?l(L):l(t)),h(!1)};o.useEffect(()=>{v()},[]);const U=async t=>{if(t.preventDefault(),!r)return alert("Error: Koneksi Supabase terputus.");C(!0);const{error:a}=await r.auth.signInWithPassword({email:f.email,password:f.password});a?alert("Gagal Masuk: "+a.message):n("catalog"),C(!1)},F=async()=>{r&&await r.auth.signOut(),n("catalog")},q=async()=>{if(!s.title||!s.content||!r)return;h(!0);const t={title:s.title,description:s.description,content:s.content,category:s.category,is_hidden:s.is_hidden};let a;if(k&&d&&!d.isLocal){const{error:c}=await r.from("books").update(t).eq("id",d.id);a=c}else{const{error:c}=await r.from("books").insert([t]);a=c}a?alert("Gagal Simpan: "+a.message+`
(Pastikan tabel 'books' memiliki kolom yang sesuai)`):(await v(),n("catalog"),x({title:"",description:"",content:"",category:"General",is_hidden:!1})),h(!1)},J=async(t,a,c)=>{if(c.stopPropagation(),a){window.confirm("Sembunyikan materi sampel ini?")&&l(i.filter(p=>p.id!==t));return}if(r&&window.confirm("Hapus materi ini secara permanen?")){const{error:p}=await r.from("books").delete().eq("id",t);p?alert("Gagal Hapus: "+p.message):v()}},Q=async(t,a)=>{if(a.stopPropagation(),t.isLocal)return alert("Data sampel tidak bisa diubah statusnya di database.");if(!r)return;const c=!t.is_hidden;l(i.map(N=>N.id===t.id?{...N,is_hidden:c}:N));const{error:p}=await r.from("books").update({is_hidden:c}).eq("id",t.id);p&&(alert("Gagal update status: "+p.message),v())},B=o.useMemo(()=>{let t=i;return j&&(t=t.filter(a=>a.title.toLowerCase().includes(j.toLowerCase())||a.category.toLowerCase().includes(j.toLowerCase()))),u||(t=t.filter(a=>!a.is_hidden)),t},[i,j,u]),D=(t=null)=>{t?(E(!0),w(t),x({title:t.title,description:t.description||"",content:t.content||"",category:t.category||"General",is_hidden:t.is_hidden||!1})):(E(!1),w(null),x({title:"",description:"",content:"",category:"General",is_hidden:!1})),n("editor")},W=t=>{w(t),n("reader")};return e.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] text-slate-900 selection:bg-indigo-100 selection:text-indigo-900 font-sans",children:[e.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>n("catalog"),children:[e.jsx("div",{className:"bg-indigo-600 p-2 rounded-xl shadow-lg shadow-indigo-100/50",children:e.jsx($,{className:"text-white w-5 h-5"})}),e.jsx("h1",{className:"font-bold text-xl tracking-tight hidden md:block",children:"LiteBooks"})]}),e.jsx("div",{className:"flex items-center gap-4 md:gap-6",children:u?e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsxs("button",{onClick:()=>D(),className:"bg-indigo-600 text-white px-3 py-2 md:px-4 md:py-2 rounded-lg text-sm font-semibold hover:bg-indigo-700 transition flex items-center gap-2",children:[e.jsx(X,{size:16})," ",e.jsx("span",{className:"hidden sm:inline",children:"Materi Baru"})]}),e.jsx("button",{onClick:F,className:"text-slate-400 hover:text-red-500 transition p-2",children:e.jsx(Y,{size:20})})]}):e.jsxs("button",{onClick:()=>n("login"),className:"flex items-center gap-2 text-slate-600 hover:text-indigo-600 font-semibold transition px-2",children:[e.jsx(z,{size:20})," ",e.jsx("span",{className:"hidden sm:inline",children:"Admin Login"})]})})]})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 md:px-6 py-8",children:[!H&&e.jsxs("div",{className:"mb-8 p-4 bg-amber-50 border border-amber-200 rounded-2xl flex items-center gap-4 text-amber-800 text-sm",children:[e.jsx(Z,{size:20}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Mode Demo Lokal."})," Database belum terhubung (Cek Secrets di GitHub)."]})]}),m==="catalog"&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[e.jsxs("header",{className:"mb-10 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight text-slate-900 mb-2",children:"Pustaka Digital"}),e.jsx("p",{className:"text-slate-500",children:"Kumpulan dokumentasi teknis real-time."})]}),e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(ee,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Cari materi...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-2xl shadow-sm focus:ring-2 focus:ring-indigo-500 outline-none transition",value:j,onChange:t=>V(t.target.value)})]})]}),g?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[e.jsx(S,{className:"animate-spin text-indigo-600",size:40}),e.jsx("p",{className:"text-slate-400 font-medium",children:"Memuat Pustaka..."})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[B.map(t=>e.jsxs("div",{className:`bg-white border ${t.is_hidden?"border-amber-200 bg-amber-50/30":"border-slate-200"} rounded-[2rem] p-6 md:p-8 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all group cursor-pointer relative flex flex-col h-full`,onClick:()=>W(t),children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"bg-indigo-50 text-indigo-700 text-[10px] font-black uppercase tracking-widest px-3 py-1.5 rounded-full",children:t.category}),t.isLocal&&e.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-1.5 rounded-full flex items-center gap-1",children:[e.jsx(te,{size:10})," Sampel"]}),t.is_hidden&&e.jsxs("span",{className:"bg-amber-100 text-amber-700 text-[10px] font-bold px-2 py-1.5 rounded-full flex items-center gap-1",children:[e.jsx(y,{size:10})," Hidden"]})]}),u&&e.jsxs("div",{className:"flex gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[!t.isLocal&&e.jsx("button",{onClick:a=>Q(t,a),className:"p-2 bg-slate-50 text-slate-400 hover:text-amber-600 rounded-xl hover:bg-amber-50",title:t.is_hidden?"Tampilkan":"Sembunyikan",children:t.is_hidden?e.jsx(y,{size:16}):e.jsx(A,{size:16})}),e.jsx("button",{onClick:a=>{a.stopPropagation(),D(t)},className:"p-2 bg-slate-50 text-slate-400 hover:text-indigo-600 rounded-xl hover:bg-indigo-50",children:e.jsx(ae,{size:16})}),e.jsx("button",{onClick:a=>J(t.id,t.isLocal,a),className:"p-2 bg-slate-50 text-slate-400 hover:text-red-600 rounded-xl hover:bg-red-50",children:e.jsx(se,{size:16})})]})]}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3 group-hover:text-indigo-600 transition leading-tight",children:t.title}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed mb-6 line-clamp-3 flex-grow",children:t.description}),e.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 font-bold text-sm mt-auto",children:["Mulai Membaca ",e.jsx(G,{size:16,className:"rotate-180"})]})]},t.id)),B.length===0&&e.jsx("div",{className:"col-span-full py-20 text-center text-slate-400 font-medium italic",children:"Tidak ada materi ditemukan."})]})]}),m==="reader"&&d&&e.jsxs("div",{className:"max-w-4xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("button",{onClick:()=>n("catalog"),className:"flex items-center gap-2 text-slate-400 hover:text-indigo-600 mb-8 font-bold transition group",children:[e.jsx(G,{size:20,className:"group-hover:-translate-x-1 transition-transform"})," Kembali ke Katalog"]}),e.jsxs("article",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"h-4 bg-indigo-600 w-full"}),e.jsxs("div",{className:"p-8 md:p-16",children:[e.jsxs("header",{className:"mb-10 pb-8 border-b border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-indigo-600 font-black tracking-[0.2em] text-xs uppercase block",children:d.category}),d.is_hidden&&e.jsxs("span",{className:"text-amber-600 text-xs font-bold flex items-center gap-1",children:[e.jsx(y,{size:14})," Hidden Mode"]})]}),e.jsx("h1",{className:"text-3xl md:text-5xl font-black text-slate-900 mb-6 leading-tight",children:d.title}),e.jsx("p",{className:"text-lg text-slate-500 font-medium leading-relaxed",children:d.description})]}),e.jsx("div",{className:"prose prose-lg prose-slate max-w-none prose-pre:bg-slate-900 prose-pre:rounded-2xl",children:e.jsx(O,{remarkPlugins:[K],rehypePlugins:[I],children:d.content||""})})]})]})]}),m==="editor"&&e.jsxs("div",{className:"animate-in fade-in duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("h2",{className:"text-2xl font-black text-slate-900 flex items-center gap-3",children:[e.jsx(ie,{className:"text-indigo-600"})," ",k?"Edit Materi":"Buat Materi Baru"]}),e.jsx("button",{onClick:()=>n("catalog"),className:"text-slate-400 font-bold hover:text-slate-600 transition",children:"Batal"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6 bg-white p-8 rounded-[2rem] border border-slate-200 shadow-sm h-fit",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Judul"}),e.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold text-lg",placeholder:"Judul Materi",value:s.title,onChange:t=>x({...s,title:t.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Kategori"}),e.jsxs("select",{className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none",value:s.category,onChange:t=>x({...s,category:t.target.value}),children:[e.jsx("option",{children:"Programming"}),e.jsx("option",{children:"DevOps"}),e.jsx("option",{children:"UI/UX"}),e.jsx("option",{children:"General"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Visibilitas"}),e.jsxs("div",{className:`w-full p-4 border rounded-2xl cursor-pointer flex items-center justify-between ${s.is_hidden?"bg-amber-50 border-amber-200 text-amber-700":"bg-emerald-50 border-emerald-200 text-emerald-700"}`,onClick:()=>x({...s,is_hidden:!s.is_hidden}),children:[e.jsx("span",{className:"font-bold text-sm",children:s.is_hidden?"Tersembunyi (Private)":"Publik (Show)"}),s.is_hidden?e.jsx(y,{size:18}):e.jsx(A,{size:18})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Deskripsi Singkat"}),e.jsx("textarea",{rows:"3",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-sm",placeholder:"Ringkasan...",value:s.description,onChange:t=>x({...s,description:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Konten (Markdown)"}),e.jsx("textarea",{rows:"15",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none font-mono text-sm",placeholder:"# Mulai menulis...",value:s.content,onChange:t=>x({...s,content:t.target.value})})]}),e.jsxs("button",{onClick:q,disabled:g,className:"w-full bg-indigo-600 text-white py-4 rounded-2xl font-black text-lg hover:bg-indigo-700 transition flex justify-center items-center gap-2 shadow-xl shadow-indigo-100",children:[g?e.jsx(S,{className:"animate-spin"}):e.jsx(ne,{size:20})," ",k&&!(d!=null&&d.isLocal)?"Simpan Perubahan":"Simpan ke Database"]})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2.5rem] p-10 h-full max-h-[85vh] overflow-y-auto prose prose-slate",children:[e.jsx("span",{className:"text-[10px] font-black text-indigo-300 uppercase tracking-widest mb-6 block",children:"LIVE PREVIEW"}),e.jsx("h1",{children:s.title||"Judul Materi"}),e.jsx(O,{remarkPlugins:[K],rehypePlugins:[I],children:s.content||"_Pratinjau konten akan muncul di sini..._"})]})})]})]}),m==="login"&&e.jsx("div",{className:"max-w-md mx-auto mt-10 md:mt-20 animate-in zoom-in-95 duration-300",children:e.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[3rem] shadow-2xl border border-slate-100 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-indigo-600"}),e.jsx("div",{className:"inline-flex bg-indigo-50 p-6 rounded-[2rem] mb-6",children:e.jsx(z,{className:"text-indigo-600",size:32})}),e.jsx("h2",{className:"text-3xl font-black text-slate-900 mb-2",children:"Admin Login"}),e.jsx("p",{className:"text-slate-500 mb-8 text-sm",children:"Masuk untuk mengelola konten."}),e.jsxs("form",{onSubmit:U,className:"space-y-4 text-left",children:[e.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",value:f.email,onChange:t=>M({...f,email:t.target.value})}),e.jsx("input",{type:"password",placeholder:"Sandi",className:"w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500 font-bold",value:f.password,onChange:t=>M({...f,password:t.target.value})}),e.jsx("button",{type:"submit",disabled:P,className:"w-full bg-indigo-600 text-white py-4 rounded-2xl font-black text-lg hover:bg-indigo-700 transition shadow-xl flex justify-center items-center",children:P?e.jsx(S,{className:"animate-spin"}):"Masuk"})]}),e.jsx("button",{onClick:()=>n("catalog"),className:"mt-6 text-slate-400 hover:text-slate-600 text-sm font-bold",children:"Kembali ke Katalog"})]})})]}),e.jsx("footer",{className:"text-center py-10 text-slate-400 text-xs font-medium uppercase tracking-widest border-t border-slate-100 mt-10",children:"UAS Front-End ITTS â€¢ 2026"})]})}le.createRoot(document.getElementById("root")).render(e.jsx(re.StrictMode,{children:e.jsx(me,{})}));
